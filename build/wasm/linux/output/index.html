<!DOCTYPE html>
<body>

    <div>
        <div style="float: left;padding-right: 2pt">Version:</div>
        <div id="version"></div>
    </div>
    <div>
        <div style="float: left;padding-right: 2pt">Delegates:</div>
        <div id="delegates"></div>
        <div style="float: left;padding-right: 2pt">Features:</div>
        <div id="features"></div>
    </div>

    <script type="text/javascript" src="magick-Q8.js"></script>
    <script type="text/javascript">

        function getString(offset)
        {
            let result = '';
            let i = offset;
            while (Module.HEAP8[i] != 0)
            {
                result += String.fromCharCode(Module.HEAP8[i++]);
            }

            return result;
        }
        
        Module.onRuntimeInitialized = function()
        {
            const address = Module._Magick_Delegates_Get()
            document.getElementById('version').innerText = 'Quantum Depth: ' + Module._Quantum_Depth_Get();
            document.getElementById('delegates').innerText = getString(Module._Magick_Delegates_Get());
            document.getElementById('features').innerText =  getString(Module._Magick_Features_Get());
        }

    </script>
</body>
